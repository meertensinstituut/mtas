<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2017-10-27 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20171027" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Multi Tier Annotation Search &#x2013; Configuration</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>MTAS</h2>
                </div>
                      </div>
        <div class="pull-right">                  <a href="http://www.meertens.knaw.nl/" id="bannerRight">
                                                                                                <img src="images/meertens.png"  alt="Meertens Instituut" width="93" height="104"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="projectVersion">Version: 7.0.1.2-SNAPSHOT
                          <span class="divider">|</span>
                    </li>
                              <li class="">
                    <a href="index.html" title="Mtas">
        Mtas</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Configuration</li>
                
              
                  <li id="publishDate" class="pull-right">Last Published: 2017-10-27</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Mtas</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="features.html" title="Features">
          <span class="none"></span>
        Features</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="installation.html" title="Getting started">
          <span class="icon-chevron-right"></span>
        Getting started</a>
                  </li>
                                                                                                                                                                                                                
      <li>
  
                          <a href="indexing.html" title="Indexing">
          <span class="icon-chevron-down"></span>
        Indexing</a>
                    <ul class="nav nav-list">
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>Configuration</a>
          </li>
                    
      <li>
  
                          <a href="indexing_mapping.html" title="Mapping">
          <span class="none"></span>
        Mapping</a>
            </li>
                                                                                                                                        
      <li>
  
                          <a href="indexing_formats.html" title="Formats">
          <span class="icon-chevron-down"></span>
        Formats</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="indexing_formats_folia.html" title="FoLiA">
          <span class="none"></span>
        FoLiA</a>
            </li>
                    
      <li>
  
                          <a href="indexing_formats_tei.html" title="TEI">
          <span class="none"></span>
        TEI</a>
            </li>
                    
      <li>
  
                          <a href="indexing_formats_chat.html" title="CHAT">
          <span class="none"></span>
        CHAT</a>
            </li>
                    
      <li>
  
                          <a href="indexing_formats_sketch.html" title="Sketch">
          <span class="none"></span>
        Sketch</a>
            </li>
                    
      <li>
  
                          <a href="indexing_formats_crm.html" title="CRM">
          <span class="none"></span>
        CRM</a>
            </li>
              </ul>
        </li>
              </ul>
        </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
      <li>
  
                          <a href="search.html" title="Search">
          <span class="icon-chevron-right"></span>
        Search</a>
                  </li>
                
      <li>
  
                          <a href="download.html" title="Download">
          <span class="none"></span>
        Download</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                              
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                          
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Configuration</h1>
<p>On adding a resource to the index, besides choosing the correct parser for the provided type of resource, also the exact <a href="indexing_mapping.html">mapping</a> of the resource to the index has to be specified. </p>
<p><b>Mapping</b></p>
<p>For resources containing the tokenisation and annotations, like the xml sample below, several parsers are available.</p>
<p><a name="resource"></a></p>

<div class="source">
<div class="source"><pre class="prettyprint">...
  &lt;text xml:id=&quot;WR-P-E-J-0000000001.text&quot;&gt;
      &lt;div xml:id=&quot;WR-P-E-J-0000000001.div0.1&quot; class=&quot;chapter&quot;&gt;
        &lt;head xml:id=&quot;WR-P-E-J-0000000001.head.1&quot;&gt;
          &lt;s xml:id=&quot;WR-P-E-J-0000000001.head.1.s.1&quot;&gt;
            &lt;w xml:id=&quot;WR-P-E-J-0000000001.head.1.s.1.w.1&quot;&gt;
              &lt;t&gt;Stemma&lt;/t&gt;
              &lt;pos class=&quot;N(soort,ev,basis,onz,stan)&quot;/&gt;
              &lt;lemma class=&quot;stemma&quot;/&gt;
            &lt;/w&gt;
          &lt;/s&gt;
        &lt;/head&gt;
        &lt;p xml:id=&quot;WR-P-E-J-0000000001.p.1&quot; class=&quot;firstparagraph&quot;&gt;
          &lt;s xml:id=&quot;WR-P-E-J-0000000001.p.1.s.1&quot;&gt;
            &lt;w xml:id=&quot;WR-P-E-J-0000000001.p.1.s.1.w.1&quot;&gt;
              &lt;t&gt;Stemma&lt;/t&gt;
              &lt;pos class=&quot;N(eigen,ev,basis,zijd,stan)&quot; /&gt;
              &lt;lemma class=&quot;Stemma&quot; /&gt;
            &lt;/w&gt;
            &lt;w xml:id=&quot;WR-P-E-J-0000000001.p.1.s.1.w.2&quot;&gt;
              &lt;t&gt;is&lt;/t&gt;
              &lt;pos class=&quot;WW(pv,tgw,ev)&quot;/&gt;
              &lt;lemma class=&quot;zijn&quot;/&gt;
...
</pre></div></div>
<p>The mapping configuration not only specifies the parser, but also defines exactly how resources are mapped onto the index structure:</p>
<p><a name="configuration"></a></p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;mtas&gt;
  &lt;!-- START MTAS INDEX CONFIGURATION --&gt;
  &lt;index&gt;
    &lt;!-- START GENERAL SETTINGS MTAS INDEX PROCESS --&gt;
    &lt;payload index=&quot;false&quot; /&gt;
    &lt;offset index=&quot;false&quot; /&gt;
    &lt;realoffset index=&quot;false&quot; /&gt;
    &lt;parent index=&quot;true&quot; /&gt;
    &lt;!-- END GENERAL SETTINGS MTAS INDEX PROCESS --&gt;
  &lt;/index&gt;
  &lt;!-- END MTAS INDEX CONFIGURATION --&gt;
  &lt;!-- START CONFIGURATION MTAS PARSER --&gt;
  &lt;parser name=&quot;...&quot;&gt;
    ...
  &lt;/parser&gt;
  &lt;!-- END CONFIGURATION MTAS PARSER --&gt;
&lt;/mtas&gt;
</pre></div></div>
<p>Several parsers are available supporting multiple <a href="indexing_formats.html">formats</a>, and for each of these parsers specific mapping configurations can be set.</p>
<p><b>Multiple configurations</b></p>
<p>Within one index, multiple configurations can be used to map resources to the Mtas index structure. The file describing the configuration to be used is of the form</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;mtas&gt;
  &lt;configurations type=&quot;mtas.analysis.util.MtasTokenizerFactory&quot;&gt;
    &lt;configuration name=&quot;folia&quot; file=&quot;folia.xml&quot; /&gt;
    &lt;configuration name=&quot;tei&quot; file=&quot;tei.xml&quot; /&gt;
  &lt;/configurations&gt;
  &lt;configurations type=&quot;mtas.analysis.util.MtasCharFilterFactory&quot;&gt;
    &lt;configuration name=&quot;folia&quot; type=&quot;url&quot; prefix=&quot;http://archive.yourorganization.com/&quot; postfix=&quot;.xml&quot; /&gt;
    &lt;configuration name=&quot;tei&quot; type=&quot;file&quot; prefix=&quot;/data/resources/&quot; postfix=&quot;.xml.gz&quot; /&gt;
  &lt;/configurations&gt;
&lt;/mtas&gt;
</pre></div></div>
<p>Configurations for <i>tokenizer</i> and <i>charFilter</i> are provided, depending on the type of document. With the charFilter, retrieval of documents from file or url can be configured. The type is usually derived from one of the other metadata fields in the document. In the <a href="installation_solr.html">installation instructions for Solr</a> an example is included on how to set these configurations in the <tt>schema.xml</tt>. </p>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2017
                        <a href="http://www.meertens.knaw.nl/">Meertens Institute</a>.
            All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
