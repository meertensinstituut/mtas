<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.1 at 2017-05-05 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20170505" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Multi Tier Annotation Search &#x2013; Configuration</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>MTAS</h2>
                </div>
                      </div>
        <div class="pull-right">                  <a href="http://www.meertens.knaw.nl/" id="bannerRight">
                                                                                                <img src="images/meertens.png"  alt="Meertens Instituut" width="93" height="104"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="projectVersion">Version: 6.5.1
                          <span class="divider">|</span>
                    </li>
                              <li class="">
                    <a href="index.html" title="Mtas">
        Mtas</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Configuration</li>
                
              
                  <li id="publishDate" class="pull-right">Last Published: 2017-05-05</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Mtas</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="features.html" title="Features">
          <span class="none"></span>
        Features</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="installation.html" title="Getting started">
          <span class="icon-chevron-right"></span>
        Getting started</a>
                  </li>
                                                                                                                                                                                    
      <li>
  
                          <a href="indexing.html" title="Indexing">
          <span class="icon-chevron-right"></span>
        Indexing</a>
                  </li>
                                                                                                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="search.html" title="Search">
          <span class="icon-chevron-down"></span>
        Search</a>
                    <ul class="nav nav-list">
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>Configuration</a>
          </li>
                                                                                                                                                                                                                                                          
      <li>
  
                          <a href="search_query.html" title="Query">
          <span class="icon-chevron-down"></span>
        Query</a>
                    <ul class="nav nav-list">
                                                                                                          
      <li>
  
                          <a href="search_query_stats.html" title="Statistics">
          <span class="icon-chevron-right"></span>
        Statistics</a>
                  </li>
                    
      <li>
  
                          <a href="search_query_kwic.html" title="Kwic">
          <span class="none"></span>
        Kwic</a>
            </li>
                    
      <li>
  
                          <a href="search_query_list.html" title="List">
          <span class="none"></span>
        List</a>
            </li>
                    
      <li>
  
                          <a href="search_query_document.html" title="Document">
          <span class="none"></span>
        Document</a>
            </li>
                    
      <li>
  
                          <a href="search_query_termvector.html" title="Termvector">
          <span class="none"></span>
        Termvector</a>
            </li>
                    
      <li>
  
                          <a href="search_query_facet.html" title="Facet">
          <span class="none"></span>
        Facet</a>
            </li>
                    
      <li>
  
                          <a href="search_query_group.html" title="Group">
          <span class="none"></span>
        Group</a>
            </li>
                    
      <li>
  
                          <a href="search_query_prefix.html" title="Prefix">
          <span class="none"></span>
        Prefix</a>
            </li>
              </ul>
        </li>
                    
      <li>
  
                          <a href="search_stats.html" title="Type of statistics">
          <span class="none"></span>
        Type of statistics</a>
            </li>
                    
      <li>
  
                          <a href="search_functions.html" title="Functions">
          <span class="none"></span>
        Functions</a>
            </li>
                    
      <li>
  
                          <a href="search_cql.html" title="CQL">
          <span class="none"></span>
        CQL</a>
            </li>
                    
      <li>
  
                          <a href="search_sharding.html" title="Sharding">
          <span class="none"></span>
        Sharding</a>
            </li>
              </ul>
        </li>
                
      <li>
  
                          <a href="download.html" title="Download">
          <span class="none"></span>
        Download</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                            
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                    
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Configuration</h1>
<p>To enable the use of the functionality from Mtas within Solr search requests, some adjustments have to be made within the solrconfig.xml: the provided Mtas searchComponent, queryParser and requestHandler have to be included.</p>
<p><b>Mtas searchComponent</b></p>
<p>The <tt>mtas.solr.handler.component.MtasSolrSearchComponent</tt> can be declared with</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;searchComponent name=&quot;mtas&quot; class=&quot;mtas.solr.handler.component.MtasSolrSearchComponent&quot;/&gt;
</pre></div></div>
<p>and added to the select requestHandler by inserting the following within the <tt>&lt;requestHandler/&gt;</tt> with name <tt>&quot;/select&quot;</tt>:</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;arr name=&quot;last-components&quot;&gt;
  &lt;str&gt;mtas&lt;/str&gt;
&lt;/arr&gt;
</pre></div></div>
<p>This enables the handling of all Mtas specific arguments within a select request to a Solr core.</p>
<p><b>Mtas queryParser</b></p>
<p>The <tt>mtas.solr.search.MtasSolrCQLQParserPlugin</tt> has to be included to enable the use of CQL queries:</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;queryParser name=&quot;mtas_cql&quot; class=&quot;mtas.solr.search.MtasSolrCQLQParserPlugin&quot;/&gt;
</pre></div></div>
<p>This enables the use of expressions like <tt>{!mtas_cql field=&quot;mtas&quot; query=&quot;[pos=\&quot;N\&quot;]&quot;}</tt> within Solr (filter) queries.</p>
<p><b>Mtas requestHandler</b></p>
<p>Adding the <tt>mtas.solr.handler.MtasRequestHandler</tt> enables additional Mtas functionality that doesn&#x2019;t belong in the select requestHandler.</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;requestHandler name=&quot;/mtas&quot; class=&quot;mtas.solr.handler.MtasRequestHandler&quot; /&gt;
</pre></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2017
                        <a href="http://www.meertens.knaw.nl/">Meertens Institute</a>.
            All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
