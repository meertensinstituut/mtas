<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2017-07-13 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20170713" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Multi Tier Annotation Search &#x2013; Document</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>MTAS</h2>
                </div>
                      </div>
        <div class="pull-right">                  <a href="http://www.meertens.knaw.nl/" id="bannerRight">
                                                                                                <img src="images/meertens.png"  alt="Meertens Instituut" width="93" height="104"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="projectVersion">Version: 6.6.0
                          <span class="divider">|</span>
                    </li>
                              <li class="">
                    <a href="index.html" title="Mtas">
        Mtas</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Document</li>
                
              
                  <li id="publishDate" class="pull-right">Last Published: 2017-07-13</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Mtas</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="features.html" title="Features">
          <span class="none"></span>
        Features</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="installation.html" title="Getting started">
          <span class="icon-chevron-right"></span>
        Getting started</a>
                  </li>
                                                                                                                                                                                    
      <li>
  
                          <a href="indexing.html" title="Indexing">
          <span class="icon-chevron-right"></span>
        Indexing</a>
                  </li>
                                                                                                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="search.html" title="Search">
          <span class="icon-chevron-down"></span>
        Search</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="search_configuration.html" title="Configuration">
          <span class="none"></span>
        Configuration</a>
            </li>
                                                                                                                                                                                                                                                                    
      <li>
  
                          <a href="search_query.html" title="Query">
          <span class="icon-chevron-down"></span>
        Query</a>
                    <ul class="nav nav-list">
                                                                                                          
      <li>
  
                          <a href="search_query_stats.html" title="Statistics">
          <span class="icon-chevron-right"></span>
        Statistics</a>
                  </li>
                    
      <li>
  
                          <a href="search_query_kwic.html" title="Kwic">
          <span class="none"></span>
        Kwic</a>
            </li>
                    
      <li>
  
                          <a href="search_query_list.html" title="List">
          <span class="none"></span>
        List</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>Document</a>
          </li>
                    
      <li>
  
                          <a href="search_query_termvector.html" title="Termvector">
          <span class="none"></span>
        Termvector</a>
            </li>
                    
      <li>
  
                          <a href="search_query_facet.html" title="Facet">
          <span class="none"></span>
        Facet</a>
            </li>
                    
      <li>
  
                          <a href="search_query_group.html" title="Group">
          <span class="none"></span>
        Group</a>
            </li>
                    
      <li>
  
                          <a href="search_query_prefix.html" title="Prefix">
          <span class="none"></span>
        Prefix</a>
            </li>
              </ul>
        </li>
                    
      <li>
  
                          <a href="search_stats.html" title="Type of statistics">
          <span class="none"></span>
        Type of statistics</a>
            </li>
                    
      <li>
  
                          <a href="search_functions.html" title="Functions">
          <span class="none"></span>
        Functions</a>
            </li>
                    
      <li>
  
                          <a href="search_cql.html" title="CQL">
          <span class="none"></span>
        CQL</a>
            </li>
                    
      <li>
  
                          <a href="search_sharding.html" title="Sharding">
          <span class="none"></span>
        Sharding</a>
            </li>
              </ul>
        </li>
                
      <li>
  
                          <a href="download.html" title="Download">
          <span class="none"></span>
        Download</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                            
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                          
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Document</h1>
<p>Mtas can produce statistics on used terms for the individual listed documents. To get this information, in Solr requests, besides the parameter to enable <a href="search_query.html">Mtas queries</a>, the following parameter should be provided.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.document </td>
      
<td>true </td>
      
<td>yes </td>
    </tr>
  </tbody>
</table>
<p>Multiple document results can be produced within the same request. To distinguish them, a unique identifier has to be provided for each of the required document results.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.document.&lt;identifier&gt;.key </td>
      
<td>&lt;string&gt; </td>
      
<td>key used in response </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.document.&lt;identifier&gt;.field </td>
      
<td>&lt;string&gt; </td>
      
<td>Mtas field </td>
      
<td>yes </td>
    </tr>
    
<tr class="b">
      
<td>mtas.document.&lt;identifier&gt;.prefix </td>
      
<td>&lt;string&gt; </td>
      
<td>prefix </td>
      
<td>yes </td>
    </tr>
    
<tr class="a">
      
<td>mtas.document.&lt;identifier&gt;.number </td>
      
<td>&lt;double&gt; </td>
      
<td>create list with specified number of most frequent items </td>
      
<td>no </td>
    </tr>
    
<tr class="b">
      
<td>mtas.document.&lt;identifier&gt;.type </td>
      
<td>&lt;string&gt; </td>
      
<td>required <a href="search_stats.html">type of statistics</a> </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.document.&lt;identifier&gt;.regexp </td>
      
<td>&lt;string&gt; </td>
      
<td>regular expression condition on term </td>
      
<td>no </td>
    </tr>
    
<tr class="b">
      
<td>mtas.document.&lt;identifier&gt;.ignoreRegexp </td>
      
<td>&lt;string&gt; </td>
      
<td>regular expression condition for terms that have to be ignored </td>
      
<td>no </td>
    </tr>
  </tbody>
</table>
<div class="section">
<h2><a name="List"></a>List</h2>
<p>A list can be provided, specifying the set of terms to consider when computing the result.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.document.&lt;identifier&gt;.list </td>
      
<td>&lt;string&gt; </td>
      
<td>comma separated list of values </td>
      
<td>yes </td>
    </tr>
    
<tr class="a">
      
<td>mtas.document.&lt;identifier&gt;.listRegexp </td>
      
<td>&lt;boolean&gt; </td>
      
<td>list of values are to be interpreted as regular expressions </td>
      
<td>no </td>
    </tr>
    
<tr class="b">
      
<td>mtas.document.&lt;identifier&gt;.listExpand </td>
      
<td>&lt;boolean&gt; </td>
      
<td>expand the matches on values from list </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.document.&lt;identifier&gt;.listExpandNumber </td>
      
<td>&lt;boolean&gt; </td>
      
<td>number of expansions of matches on values from list </td>
      
<td>no </td>
    </tr>
  </tbody>
</table></div>
<div class="section">
<h2><a name="Ignore_list"></a>Ignore list</h2>
<p>Also a ignore list can be provided, specifying the set of terms not to consider when computing the result.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.document.&lt;identifier&gt;.ignoreList </td>
      
<td>&lt;string&gt; </td>
      
<td>comma separated list of values </td>
      
<td>yes </td>
    </tr>
    
<tr class="a">
      
<td>mtas.document.&lt;identifier&gt;.ignoreListRegexp </td>
      
<td>&lt;boolean&gt; </td>
      
<td>list of values are to be interpreted as regular expressions </td>
      
<td>no </td>
    </tr>
  </tbody>
</table>
<hr /></div>
<div class="section">
<h2><a name="Examples"></a>Examples</h2>

<ol style="list-style-type: decimal">
  
<li><a href="#basic">Basic</a> : Statistics unique words for each document</li>
  
<li><a href="#regexp">Regexp</a> : Most frequent words containing only letters a-z and minimum length 5</li>
  
<li><a href="#list">List</a> : Statistics for a provided list of words</li>
  
<li><a href="#ignore">Ignore</a> : Statistics for a provided list of regular expressions, ignoring another list of regular expressions</li>
</ol>
<hr />
<p><a name="basic"></a> </p>
<div class="section">
<h3><a name="Basic"></a>Basic</h3>
<p><b>Example</b><br />Statistics for set of unique tokens with prefix <i>t</i> (words) for each listed document.</p>
<p><b>Request and response</b><br /><tt>fq=%7B%21mtas_cql+field%3D%22text%22+query%3D%22%5B%5D%22+++%7D&amp;q=%2A%3A%2A&amp;mtas=true&amp;mtas.document=true&amp;mtas.document.0.field=text&amp;mtas.document.0.prefix=t&amp;mtas.document.0.key=words&amp;mtas.document.0.type=all&amp;fl=*&amp;start=0&amp;rows=2&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;document&quot;:[{
        &quot;key&quot;:&quot;words&quot;,
        &quot;list&quot;:[{
            &quot;documentKey&quot;:&quot;4115a95c-011c-11e4-b0ff-51bcbd7c379f&quot;,
            &quot;sumsq&quot;:113964.0,
            &quot;populationvariance&quot;:126.5639231447591,
            &quot;max&quot;:166.0,
            &quot;sum&quot;:3336.0,
            &quot;kurtosis&quot;:92.19837080635624,
            &quot;standarddeviation&quot;:11.257199352433314,
            &quot;n&quot;:789,
            &quot;quadraticmean&quot;:12.01836364230935,
            &quot;min&quot;:1.0,
            &quot;median&quot;:1.0,
            &quot;variance&quot;:126.72453726042504,
            &quot;mean&quot;:4.228136882129286,
            &quot;geometricmean&quot;:1.9285975498109995,
            &quot;sumoflogs&quot;:518.209740627951,
            &quot;skewness&quot;:8.377350653392202},
          {
            &quot;documentKey&quot;:&quot;4115aac4-011c-11e4-b0ff-51bcbd7c379f&quot;,
            &quot;sumsq&quot;:25489.0,
            &quot;populationvariance&quot;:35.695641666666134,
            &quot;max&quot;:77.0,
            &quot;sum&quot;:1563.0,
            &quot;kurtosis&quot;:72.57030420433823,
            &quot;standarddeviation&quot;:5.979568021426876,
            &quot;n&quot;:600,
            &quot;quadraticmean&quot;:6.517796151051877,
            &quot;min&quot;:1.0,
            &quot;median&quot;:1.0,
            &quot;variance&quot;:35.75523372287092,
            &quot;mean&quot;:2.6050000000000004,
            &quot;geometricmean&quot;:1.5249529474773036,
            &quot;sumoflogs&quot;:253.1781332820801,
            &quot;skewness&quot;:7.70682353088895}]}]}
</pre></div></div>
<p><a name="regexp"></a> </p></div>
<div class="section">
<h3><a name="Regexp"></a>Regexp</h3>
<p><b>Example</b><br />Most frequent tokens containing only letters a-z and minimum length 5 with prefix <i>t</i> (words) for each listed document.</p>
<p><b>Regexp</b><br /><br /><tt>[a-z]{5,}</tt></p>
<p><b>Request and response</b><br /><tt>fq=%7B%21mtas_cql+field%3D%22text%22+query%3D%22%5B%5D%22+++%7D&amp;q=%2A%3A%2A&amp;mtas=true&amp;mtas.document=true&amp;mtas.document.0.field=NLContent_mtas&amp;mtas.document.0.prefix=t&amp;mtas.document.0.key=list+of+words&amp;mtas.document.0.type=n%2Csum%2Cmean&amp;mtas.document.0.regexp=%5Ba-z%5D%7B5%2C%7D&amp;mtas.document.0.number=5&amp;fl=%2A&amp;start=0&amp;rows=2&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;document&quot;:[{
        &quot;key&quot;:&quot;list of words&quot;,
        &quot;list&quot;:[{
            &quot;documentKey&quot;:&quot;c0c4200c-1eee-11e5-b891-f48ce0be173a&quot;,
            &quot;list&quot;:[{
                &quot;sum&quot;:471,
                &quot;key&quot;:&quot;zijne&quot;},
              {
                &quot;sum&quot;:317,
                &quot;key&quot;:&quot;eenen&quot;},
              {
                &quot;sum&quot;:304,
                &quot;key&quot;:&quot;zegde&quot;},
              {
                &quot;sum&quot;:249,
                &quot;key&quot;:&quot;hebben&quot;},
              {
                &quot;sum&quot;:229,
                &quot;key&quot;:&quot;welke&quot;}],
            &quot;mean&quot;:4.552402402402403,
            &quot;sum&quot;:30319,
            &quot;n&quot;:6660},
          {
            &quot;documentKey&quot;:&quot;c0c453d8-1eee-11e5-b891-f48ce0be173a&quot;,
            &quot;list&quot;:[{
                &quot;sum&quot;:348,
                &quot;key&quot;:&quot;heeft&quot;},
              {
                &quot;sum&quot;:243,
                &quot;key&quot;:&quot;hebben&quot;},
              {
                &quot;sum&quot;:199,
                &quot;key&quot;:&quot;prins&quot;},
              {
                &quot;sum&quot;:173,
                &quot;key&quot;:&quot;vader&quot;},
              {
                &quot;sum&quot;:161,
                &quot;key&quot;:&quot;komen&quot;}],
            &quot;mean&quot;:4.641632967456191,
            &quot;sum&quot;:24104,
            &quot;n&quot;:5193}]}]}
</pre></div></div>
<p><a name="list"></a> </p></div>
<div class="section">
<h3><a name="List"></a>List</h3>
<p><b>Example</b><br />Statistics for a provided list of words for each listed document.</p>
<p><b>List</b><br /> <tt>koe,paard,schaap,geit,kip</tt></p>
<p><b>Request and response</b><br /><tt>fq=%7B%21mtas_cql+field%3D%22text%22+query%3D%22%5Bt_lc%3D%5C%22koe%5C%22%7Ct_lc%3D%5C%22paard%5C%22%7Ct_lc%3D%5C%22schaap%5C%22%5D%22+++%7D&amp;q=%2A%3A%2A&amp;mtas=true&amp;mtas.document=true&amp;mtas.document.0.field=text&amp;mtas.document.0.prefix=t_lc&amp;mtas.document.0.key=list+of+words&amp;mtas.document.0.type=n%2Csum%2Cmean&amp;mtas.document.0.list=koe%2Cpaard%2Cschaap%2Cgeit%2Ckip&amp;mtas.document.0.listRegexp=false&amp;mtas.document.0.listExpand=false&amp;mtas.document.0.number=100&amp;fl=%2A&amp;start=0&amp;rows=2&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;document&quot;:[{
        &quot;key&quot;:&quot;list of words&quot;,
        &quot;list&quot;:[{
            &quot;documentKey&quot;:&quot;c0c46b7a-1eee-11e5-b891-f48ce0be173a&quot;,
            &quot;list&quot;:[{
                &quot;sum&quot;:3,
                &quot;key&quot;:&quot;paard&quot;},
              {
                &quot;sum&quot;:2,
                &quot;key&quot;:&quot;schaap&quot;}],
            &quot;mean&quot;:2.5,
            &quot;sum&quot;:5,
            &quot;n&quot;:2},
          {
            &quot;documentKey&quot;:&quot;c0c453d8-1eee-11e5-b891-f48ce0be173a&quot;,
            &quot;list&quot;:[{
                &quot;sum&quot;:31,
                &quot;key&quot;:&quot;paard&quot;},
              {
                &quot;sum&quot;:1,
                &quot;key&quot;:&quot;kip&quot;}],
            &quot;mean&quot;:16.0,
            &quot;sum&quot;:32,
            &quot;n&quot;:2}]}]}
</pre></div></div>
<p><a name="ignore"></a> </p></div>
<div class="section">
<h3><a name="Ignore"></a>Ignore</h3>
<p><b>Example</b><br />Statistics for a provided list of regular expressions, ignoring another list of regular expressions for each listed document.</p>
<p><b>Regexp</b><br /> <tt>[a-z]{7,}</tt></p>
<p><b>Ignore</b><br /> <tt>[a-z]{10,}</tt></p>
<p><b>List</b><br /> <tt>een.*,.*heid</tt></p>
<p><b>Ignore list</b><br /> <tt>een.*heid,ee.*nheid</tt></p>
<p><b>Request and response</b><br /><tt>fq=%7B%21mtas_cql+field%3D%22text%22+query%3D%22%5Bt_lc%3D%5C%22eenheid%5C%22%5D%22+++%7D&amp;q=%2A%3A%2A&amp;mtas=true&amp;mtas.document=true&amp;mtas.document.0.field=text&amp;mtas.document.0.prefix=t_lc&amp;mtas.document.0.key=advanced+list+of+words&amp;mtas.document.0.type=n%2Csum%2Cmean&amp;mtas.document.0.regexp=%5Ba-z%5D%7B7%2C%7D&amp;mtas.document.0.list=een.%2A%2C.%2Aheid&amp;mtas.document.0.listRegexp=true&amp;mtas.document.0.listExpand=true&amp;mtas.document.0.listExpandNumber=3&amp;mtas.document.0.ignoreRegexp=%5Ba-z%5D%7B10%2C%7D&amp;mtas.document.0.ignoreList=een.%2Aheid%2Cee.%2Anheid&amp;mtas.document.0.ignoreListRegexp=true&amp;mtas.document.0.number=10&amp;fl=text_numberOfPositions%2CNLCore_NLIdentification_nederlabID%2CNLProfile_name%2CNLTitle_title&amp;start=0&amp;rows=2&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;document&quot;:[{
        &quot;key&quot;:&quot;advanced list of words&quot;,
        &quot;list&quot;:[{
            &quot;documentKey&quot;:&quot;c0c41486-1eee-11e5-b891-f48ce0be173a&quot;,
            &quot;list&quot;:[{
                &quot;sum&quot;:166,
                &quot;list&quot;:{
                  &quot;droefheid&quot;:{
                    &quot;sum&quot;:36},
                  &quot;godheid&quot;:{
                    &quot;sum&quot;:22},
                  &quot;waarheid&quot;:{
                    &quot;sum&quot;:22}},
                &quot;key&quot;:&quot;.*heid&quot;},
              {
                &quot;sum&quot;:93,
                &quot;list&quot;:{
                  &quot;eenigen&quot;:{
                    &quot;sum&quot;:46},
                  &quot;eensklaps&quot;:{
                    &quot;sum&quot;:32},
                  &quot;eenigste&quot;:{
                    &quot;sum&quot;:3}},
                &quot;key&quot;:&quot;een.*&quot;}],
            &quot;mean&quot;:5.886363636363637,
            &quot;sum&quot;:259,
            &quot;n&quot;:44},
          {
            &quot;documentKey&quot;:&quot;c0c453d8-1eee-11e5-b891-f48ce0be173a&quot;,
            &quot;list&quot;:[{
                &quot;sum&quot;:36,
                &quot;list&quot;:{
                  &quot;afscheid&quot;:{
                    &quot;sum&quot;:12},
                  &quot;hoogheid&quot;:{
                    &quot;sum&quot;:4},
                  &quot;bezigheid&quot;:{
                    &quot;sum&quot;:3}},
                &quot;key&quot;:&quot;.*heid&quot;},
              {
                &quot;sum&quot;:24,
                &quot;list&quot;:{
                  &quot;eenvoudig&quot;:{
                    &quot;sum&quot;:15},
                  &quot;eenzame&quot;:{
                    &quot;sum&quot;:3},
                  &quot;eenmaal&quot;:{
                    &quot;sum&quot;:2}},
                &quot;key&quot;:&quot;een.*&quot;}],
            &quot;mean&quot;:3.1578947368421053,
            &quot;sum&quot;:60,
            &quot;n&quot;:19}]}]}
</pre></div></div>
<hr />
<p><b>Lucene</b></p>
<p>To get statistics on used terms for the listed documents <a href="installation_lucene.html">directly in Lucene</a>, <i>ComponentDocument</i> together with the provided <i>collect</i> method can be used.</p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2017
                        <a href="http://www.meertens.knaw.nl/">Meertens Institute</a>.
            All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
