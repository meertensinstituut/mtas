<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.1 at 2017-03-09 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20170309" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Multi Tier Annotation Search &#x2013; Statistics - positions</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>MTAS</h2>
                </div>
                      </div>
        <div class="pull-right">                  <a href="http://www.meertens.knaw.nl/" id="bannerRight">
                                                                                                <img src="images/meertens.png"  alt="Meertens Instituut" width="93" height="104"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="projectVersion">Version: 6.4.2
                          <span class="divider">|</span>
                    </li>
                              <li class="">
                    <a href="index.html" title="Mtas">
        Mtas</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Statistics - positions</li>
                
              
                  <li id="publishDate" class="pull-right">Last Published: 2017-03-09</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Mtas</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="features.html" title="Features">
          <span class="none"></span>
        Features</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="installation.html" title="Getting started">
          <span class="icon-chevron-right"></span>
        Getting started</a>
                  </li>
                                                                                                                                                                                    
      <li>
  
                          <a href="indexing.html" title="Indexing">
          <span class="icon-chevron-right"></span>
        Indexing</a>
                  </li>
                                                                                                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="search.html" title="Search">
          <span class="icon-chevron-down"></span>
        Search</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="search_configuration.html" title="Configuration">
          <span class="none"></span>
        Configuration</a>
            </li>
                                                                                                                                                                                                                                                                    
      <li>
  
                          <a href="search_query.html" title="Query">
          <span class="icon-chevron-down"></span>
        Query</a>
                    <ul class="nav nav-list">
                                                                                                                    
      <li>
  
                          <a href="search_query_stats.html" title="Statistics">
          <span class="icon-chevron-down"></span>
        Statistics</a>
                    <ul class="nav nav-list">
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>Positions</a>
          </li>
                    
      <li>
  
                          <a href="search_query_stats_tokens.html" title="Tokens">
          <span class="none"></span>
        Tokens</a>
            </li>
                    
      <li>
  
                          <a href="search_query_stats_spans.html" title="Spans">
          <span class="none"></span>
        Spans</a>
            </li>
              </ul>
        </li>
                    
      <li>
  
                          <a href="search_query_kwic.html" title="Kwic">
          <span class="none"></span>
        Kwic</a>
            </li>
                    
      <li>
  
                          <a href="search_query_list.html" title="List">
          <span class="none"></span>
        List</a>
            </li>
                    
      <li>
  
                          <a href="search_query_document.html" title="Document">
          <span class="none"></span>
        Document</a>
            </li>
                    
      <li>
  
                          <a href="search_query_termvector.html" title="Termvector">
          <span class="none"></span>
        Termvector</a>
            </li>
                    
      <li>
  
                          <a href="search_query_facet.html" title="Facet">
          <span class="none"></span>
        Facet</a>
            </li>
                    
      <li>
  
                          <a href="search_query_group.html" title="Group">
          <span class="none"></span>
        Group</a>
            </li>
                    
      <li>
  
                          <a href="search_query_prefix.html" title="Prefix">
          <span class="none"></span>
        Prefix</a>
            </li>
              </ul>
        </li>
                    
      <li>
  
                          <a href="search_stats.html" title="Type of statistics">
          <span class="none"></span>
        Type of statistics</a>
            </li>
                    
      <li>
  
                          <a href="search_functions.html" title="Functions">
          <span class="none"></span>
        Functions</a>
            </li>
                    
      <li>
  
                          <a href="search_cql.html" title="CQL">
          <span class="none"></span>
        CQL</a>
            </li>
                    
      <li>
  
                          <a href="search_sharding.html" title="Sharding">
          <span class="none"></span>
        Sharding</a>
            </li>
              </ul>
        </li>
                
      <li>
  
                          <a href="download.html" title="Download">
          <span class="none"></span>
        Download</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                            
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                    
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Statistics - positions</h1>
<p>To get statistics on the number of positions within a set of documents in Solr requests, besides the parameter to enable <a href="search_query_stats.html">statistics</a>, the following parameter should be provided.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.stats.positions </td>
      
<td>true </td>
      
<td>yes </td>
    </tr>
  </tbody>
</table>
<p>Multiple statistics on positions can be produced within the same request. To distinguish them, a unique identifier has to be provided for<br />each of the required statistics.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Parameter </th>
      
<th>Value </th>
      
<th>Info </th>
      
<th>Obligatory </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>mtas.stats.positions.&lt;identifier&gt;.key </td>
      
<td>&lt;string&gt; </td>
      
<td>key used in response </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.stats.positions.&lt;identifier&gt;.field </td>
      
<td>&lt;string&gt; </td>
      
<td>Mtas field </td>
      
<td>yes </td>
    </tr>
    
<tr class="b">
      
<td>mtas.stats.positions.&lt;identifier&gt;.type </td>
      
<td>&lt;string&gt; </td>
      
<td>required <a href="search_stats.html">type of statistics</a> </td>
      
<td>no </td>
    </tr>
    
<tr class="a">
      
<td>mtas.stats.positions.&lt;identifier&gt;.minimum </td>
      
<td>&lt;double&gt; </td>
      
<td>minimum number of positions </td>
      
<td>no </td>
    </tr>
    
<tr class="b">
      
<td>mtas.stats.positions.&lt;identifier&gt;.maximum </td>
      
<td>&lt;double&gt; </td>
      
<td>maximum number of positions </td>
      
<td>no </td>
    </tr>
  </tbody>
</table>
<p>The <i>key</i> is added to the response and may be used to distinguish between multiple statistics on positions, and should therefore be unique. The optional <i>minimum</i> and <i>maximum</i> can be used to focus only on documents satisfying a condition on the number of positions.</p>
<hr />
<div class="section">
<h2><a name="Examples"></a>Examples</h2>

<ol style="list-style-type: decimal">
  
<li><a href="#basic">Basic</a> : basic statistics on the number of positions.</li>
  
<li><a href="#minimum-and-maximum">Minimum and maximum</a> : statistics on the number of positions with restrictions on this number.</li>
  
<li><a href="#subset">Subset</a> : statistics on the number of positions within a subset of documents.</li>
</ol>
<hr />
<p><a name="basic"></a> </p>
<div class="section">
<h3><a name="Basic"></a>Basic</h3>
<p><b>Example</b><br />Total and average number of positions and the number of documents.</p>
<p><b>Request and response</b><br /><tt>q=*%3A*&amp;rows=0&amp;mtas=true&amp;mtas.stats=true&amp;mtas.stats.positions=true&amp;mtas.stats.positions.0.field=text&amp;mtas.stats.positions.0.key=example - basic&amp;mtas.stats.positions.0.type=sum,mean,n&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;stats&quot;:{
      &quot;positions&quot;:[{
          &quot;key&quot;:&quot;example - basic&quot;,
          &quot;mean&quot;:244.26537188929916,
          &quot;sum&quot;:504361094,
          &quot;n&quot;:2064808}]}}
</pre></div></div>
<p><a name="minimum-and-maximum"></a></p></div>
<div class="section">
<h3><a name="Minimum_and_maximum"></a>Minimum and maximum</h3>
<p><b>Example</b><br />Full statistics on positions for documents with a minimum of 100 positions, for documents with a maximum of 200 positions, and for documents with between 100 and 200 positions.</p>
<p><b>Request and response</b><br /><tt>q=*%3A*&amp;rows=0&amp;mtas=true&amp;mtas.stats=true&amp;mtas.stats.positions=true&amp;mtas.stats.positions.0.field=text&amp;mtas.stats.positions.0.key=example - minimum&amp;mtas.stats.positions.0.type=all&amp;mtas.stats.positions.0.minimum=100&amp;mtas.stats.positions.1.field=text&amp;mtas.stats.positions.1.key=example - maximum&amp;mtas.stats.positions.1.type=all&amp;mtas.stats.positions.1.maximum=200&amp;mtas.stats.positions.2.field=text&amp;mtas.stats.positions.2.key=example - minimum and maximum&amp;mtas.stats.positions.2.type=all&amp;mtas.stats.positions.2.minimum=100&amp;mtas.stats.positions.2.maximum=200&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;stats&quot;:{
      &quot;positions&quot;:[{
          &quot;key&quot;:&quot;example - minimum&quot;,
          &quot;sumsq&quot;:4.407777345501E12,
          &quot;populationvariance&quot;:4021377.043206717,
          &quot;max&quot;:419252.0,
          &quot;sum&quot;:4.53494907E8,
          &quot;kurtosis&quot;:7589.040501278469,
          &quot;standarddeviation&quot;:2005.3380969650148,
          &quot;n&quot;:1047253,
          &quot;quadraticmean&quot;:2051.5590305379797,
          &quot;min&quot;:100.0,
          &quot;median&quot;:232.0,
          &quot;variance&quot;:4021380.883139267,
          &quot;mean&quot;:433.0328077360544,
          &quot;geometricmean&quot;:269.1549624469481,
          &quot;sumoflogs&quot;:5859681.392265234,
          &quot;skewness&quot;:70.39565176567714},
        {
          &quot;key&quot;:&quot;example - maximum&quot;,
          &quot;sumsq&quot;:1.2589493055E10,
          &quot;populationvariance&quot;:2516.516960673755,
          &quot;max&quot;:200.0,
          &quot;sum&quot;:1.14146849E8,
          &quot;kurtosis&quot;:-0.5513713934014715,
          &quot;standarddeviation&quot;:50.164914844725146,
          &quot;n&quot;:1462493,
          &quot;quadraticmean&quot;:92.78060994263417,
          &quot;min&quot;:0.0,
          &quot;median&quot;:68.0,
          &quot;variance&quot;:2516.5186813785253,
          &quot;mean&quot;:78.04950109162947,
          &quot;geometricmean&quot;:0.0,
          &quot;sumoflogs&quot;:&quot;-Infinity&quot;,
          &quot;skewness&quot;:0.6202671670124106},
        {
          &quot;key&quot;:&quot;example - minimum and maximum&quot;,
          &quot;sumsq&quot;:9.370630488E9,
          &quot;populationvariance&quot;:832.9926334704653,
          &quot;max&quot;:200.0,
          &quot;sum&quot;:6.3280662E7,
          &quot;kurtosis&quot;:-1.0893405044786282,
          &quot;standarddeviation&quot;:28.861644194831847,
          &quot;n&quot;:444938,
          &quot;quadraticmean&quot;:145.12246855142547,
          &quot;min&quot;:100.0,
          &quot;median&quot;:139.0,
          &quot;variance&quot;:832.9945056290709,
          &quot;mean&quot;:142.22355024745016,
          &quot;geometricmean&quot;:139.3394542837307,
          &quot;sumoflogs&quot;:2196620.2289446634,
          &quot;skewness&quot;:0.31081665704505534}]}}
</pre></div></div>
<p><a name="subset"></a> </p></div>
<div class="section">
<h3><a name="Subset"></a>Subset</h3>
<p><b>Example</b><br />Total and average number of positions and the number of documents for a subset of documents.</p>
<p><b>Request and response</b><br /><tt>q=text:koe&amp;rows=0&amp;mtas=true&amp;mtas.stats=true&amp;mtas.stats.positions=true&amp;mtas.stats.positions.0.field=text&amp;mtas.stats.positions.0.key=example - subset&amp;mtas.stats.positions.0.type=sum,mean,n&amp;wt=json&amp;indent=true</tt></p>

<div class="source">
<div class="source"><pre class="prettyprint">&quot;mtas&quot;:{
    &quot;stats&quot;:{
      &quot;positions&quot;:[{
          &quot;key&quot;:&quot;example - subset&quot;,
          &quot;mean&quot;:5265.321033210332,
          &quot;sum&quot;:14269020,
          &quot;n&quot;:2710}]}}
</pre></div></div>
<hr /></div></div>
<div class="section">
<h2><a name="Lucene"></a>Lucene</h2>
<p>To use statistics on the number of positions <a href="installation_lucene.html">directly in Lucene</a>, <i>ComponentPosition</i> together with the provided <i>collect</i> method can be used. </p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2017
                        <a href="http://www.meertens.knaw.nl/">Meertens Institute</a>.
            All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
